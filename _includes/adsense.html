{%- assign family = include.family | downcase | default: 'square' -%}
{%- assign size   = include.size   | downcase | default: 'md' -%}
{%- assign client = include.client | default: 'ca-pub-1291242080282540' -%}
{%- assign slot   = include.slot   -%}

{%- comment -%} Choose default slot by family if not provided {%- endcomment -%}
{%- if slot == nil or slot == '' -%}
  {%- case family -%}
    {%- when 'square'      -%}{% assign slot = '7663977887' %}  {# Responsive Square #}
    {%- when 'leaderboard' -%}{% assign slot = '8939839370' %}  {# Horizontal (Responsive) #}
    {%- else -%}{% assign slot = '7663977887' %}
  {%- endcase -%}
{%- endif -%}

{%- comment -%} Compute a sensible max-width for the parent container {%- endcomment -%}
{%- capture maxw -%}
  {%- case family -%}
    {%- when 'square' -%}
      {%- case size -%}
        {%- when 'sm' -%}200px
        {%- when 'lg' -%}336px
        {%- else -%}300px
      {%- endcase -%}
    {%- when 'leaderboard' -%}
      {%- case size -%}
        {%- when 'sm' -%}468px
        {%- when 'lg' -%}980px
        {%- else -%}728px
      {%- endcase -%}
    {%- else -%}100%
  {%- endcase -%}
{%- endcapture -%}

<div class="ad ad--{{ family }} ad--{{ size }}"
     style="width:100%;max-width:{{ maxw | strip }};margin:12px auto;">
  <span class="ad__label" aria-label="Advertisement" style="display:block;font:600 11px/1 system-ui;letter-spacing:.14em;text-transform:uppercase;opacity:.65;margin-bottom:6px;">
    Advertisement
  </span>

  <ins class="adsbygoogle"
       data-ad-client="{{ client }}"
       data-ad-slot="{{ slot }}"
       data-ad-format="auto"
       data-full-width-responsive="true"></ins>
</div>
<script>(window.adsbygoogle = window.adsbygoogle || []).push({});</script>
