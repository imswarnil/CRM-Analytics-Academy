---
layout: page
---

<main class="sitemap sf-container content-wrapper">
  <header class="sitemap__header">
    <h1>Site Map</h1>
    <p class="sitemap__sub">All pages, posts, tags and collections — neatly organized.</p>
  </header>

  <!-- AdSense slot (optional) -->
  <div class="sitemap__ads">
    {% include adsense.html type="leaderboard" %}
  </div>

  <!-- Pages -->
  <section class="sitemap__section" aria-labelledby="sitemap-pages">
    <h2 id="sitemap-pages">Pages</h2>
    <ul class="sitemap__grid">
      {%- assign _pages = site.pages
        | where_exp: "p", "p.url != '/404.html'"
        | where_exp: "p", "p.sitemap != false"
        | where_exp: "p", "p.layout != nil"
      -%}
      {%- assign _sorted_pages = _pages | sort: "url" -%}
      {%- for p in _sorted_pages -%}
        <li class="sitemap__card">
          <a href="{{ p.url | relative_url }}" class="sitemap__link">
            <span class="sitemap__title">{{ p.title | default: p.url }}</span>
            <span class="sitemap__meta">{{ p.url | relative_url }}</span>
          </a>
        </li>
      {%- endfor -%}
    </ul>
  </section>

  <!-- AdSense slot (optional) -->
  <div class="sitemap__ads">
    {% include adsense.html type="rectangle" %}
  </div>

  <!-- Posts by Category -->
  <section class="sitemap__section" aria-labelledby="sitemap-posts">
    <h2 id="sitemap-posts">Blog Posts by Category</h2>

    {%- assign _cats = site.categories | sort_natural -%}
    {%- for cat in _cats -%}
      {%- assign cat_name = cat[0] -%}
      {%- assign cat_posts = cat[1] | sort: "date" | reverse -%}
      <details class="sitemap__group" open>
        <summary class="sitemap__group-title">
          <span class="badge">{{ cat_name }}</span>
          <span class="count">{{ cat_posts | size }}</span>
        </summary>
        <ul class="sitemap__list">
          {%- for post in cat_posts -%}
            <li class="sitemap__row">
              <a class="sitemap__link" href="{{ post.url | relative_url }}">
                <span class="sitemap__title">{{ post.title }}</span>
                <span class="sitemap__meta">
                  {{ post.date | date: "%-d %b %Y" }}
                  {%- if post.tags and post.tags.size > 0 -%}
                    &nbsp;•&nbsp; {{ post.tags | array_to_sentence_string }}
                  {%- endif -%}
                </span>
              </a>
            </li>
          {%- endfor -%}
        </ul>
      </details>
    {%- endfor -%}
  </section>

  <!-- AdSense slot (optional) -->
  <div class="sitemap__ads">
    {% include adsense.html type="multiplex" %}
  </div>

  <!-- Tags -->
  <section class="sitemap__section" aria-labelledby="sitemap-tags">
    <h2 id="sitemap-tags">Tags</h2>
    <ul class="sitemap__chips">
      {%- assign _tags = site.tags | sort_natural -%}
      {%- for t in _tags -%}
        {%- assign tag_name = t[0] -%}
        <li>
          <a class="chip" href="{{ '/tags/' | append: tag_name | append: '/' | relative_url }}">
            #{{ tag_name }} <span class="chip__count">{{ t[1] | size }}</span>
          </a>
        </li>
      {%- endfor -%}
    </ul>
  </section>

  <!-- Other Collections -->
  <section class="sitemap__section" aria-labelledby="sitemap-collections">
    <h2 id="sitemap-collections">Collections</h2>
    <ul class="sitemap__collections">
      {%- for coll in site.collections -%}
        {%- unless coll.label == "posts" -%}
          <li class="sitemap__collection">
            <h3 class="sitemap__collection-title">{{ coll.label | capitalize }}</h3>
            <ul class="sitemap__list">
              {%- for d in coll.docs -%}
                <li class="sitemap__row">
                  <a class="sitemap__link" href="{{ d.url | relative_url }}">
                    <span class="sitemap__title">{{ d.data.title | default: d.basename_without_ext }}</span>
                    <span class="sitemap__meta">{{ d.url | relative_url }}</span>
                  </a>
                </li>
              {%- endfor -%}
            </ul>
          </li>
        {%- endunless -%}
      {%- endfor -%}
    </ul>
  </section>

  <!-- Last Updated -->
  <section class="sitemap__section" aria-labelledby="sitemap-updated">
    <h2 id="sitemap-updated">Recently Updated</h2>
    {%- assign _recent = site.posts | sort: "last_modified_at" | reverse | slice: 0, 10 -%}
    <ul class="sitemap__list">
      {%- for p in _recent -%}
        <li class="sitemap__row">
          <a class="sitemap__link" href="{{ p.url | relative_url }}">
            <span class="sitemap__title">{{ p.title }}</span>
            <span class="sitemap__meta">Updated {{ p.last_modified_at | default: p.date | date: "%-d %b %Y" }}</span>
          </a>
        </li>
      {%- endfor -%}
    </ul>
  </section>

</main>
