/* ===========================
   AD BLOCK (theme-styled)
=========================== */
.ad {
  --ad-radius: var(--docs-radius, 0.75rem);
  --ad-border: var(--docs-border, hsl(210 30% 90%));
  --ad-muted: var(--docs-muted, hsl(210 50% 96%));
  --ad-muted-foreground: var(--docs-muted-foreground, hsl(214 20% 55%));
  --ad-foreground: var(--docs-foreground, hsl(215 100% 15%));
  --ad-bg: var(--docs-card, #fff);

  position: relative;
  margin: 1.5rem 0;
  padding: 0.75rem;
  border-radius: var(--ad-radius);
  background: var(--ad-bg);
  display: grid;
  gap: 0.5rem;
}

.ad--bordered {
  border: 1px solid var(--ad-border);
}
.ad--muted {
  background: var(--ad-muted);
}

.ad__label {
  display: inline-flex;
  align-items: center;
  gap: .4rem;
  padding: 0.25rem 0.5rem;
  font-size: 0.72rem;
  font-weight: 600;
  line-height: 1;
  color: var(--ad-muted-foreground);
  border: 1px solid var(--ad-border);
  border-radius: 999px;
  background: color-mix(in oklab, var(--ad-bg) 80%, var(--ad-border));
  width: max-content;
}

/* Alignment helpers */
.ad--align-center { text-align: center; }
.ad--align-left   { text-align: left; }
.ad--align-right  { text-align: right; }

/* CLS guard: reserve space with aspect-ratio on the slot wrapper
   We *don’t* force the <ins>; we size the wrapper and let auto formats fill it. */
.ad__slot {
  border-radius: calc(var(--ad-radius) - 2px);
  overflow: hidden;
  display: grid;
  place-items: center;
  /* Default safety min-height in case aspect-ratio is overridden later */
  min-height: 120px;
}

/* Aspect ratio presets (desktop default) */
.ad--ratio-1x1    .ad__slot { aspect-ratio: 1 / 1; }
.ad--ratio-3x2    .ad__slot { aspect-ratio: 3 / 2; }
.ad--ratio-4x1    .ad__slot { aspect-ratio: 4 / 1; }
.ad--ratio-16x9   .ad__slot { aspect-ratio: 16 / 9; }
.ad--ratio-9x16   .ad__slot { aspect-ratio: 9 / 16; }

/* Device overrides:
   -mobile applies under 640px
   -tablet applies 640–1024px (tweak as you like) */
@media (max-width: 639.98px) {
  [class*="ad--ratio-mobile-1x1"]  .ad__slot { aspect-ratio: 1 / 1; }
  [class*="ad--ratio-mobile-3x2"]  .ad__slot { aspect-ratio: 3 / 2; }
  [class*="ad--ratio-mobile-4x1"]  .ad__slot { aspect-ratio: 4 / 1; }
  [class*="ad--ratio-mobile-16x9"] .ad__slot { aspect-ratio: 16 / 9; }
  [class*="ad--ratio-mobile-9x16"] .ad__slot { aspect-ratio: 9 / 16; }
}

@media (min-width: 640px) and (max-width: 1023.98px) {
  [class*="ad--ratio-tablet-1x1"]  .ad__slot { aspect-ratio: 1 / 1; }
  [class*="ad--ratio-tablet-3x2"]  .ad__slot { aspect-ratio: 3 / 2; }
  [class*="ad--ratio-tablet-4x1"]  .ad__slot { aspect-ratio: 4 / 1; }
  [class*="ad--ratio-tablet-16x9"] .ad__slot { aspect-ratio: 16 / 9; }
  [class*="ad--ratio-tablet-9x16"] .ad__slot { aspect-ratio: 9 / 16; }
}

/* Subtle chrome so it blends with your docs theme */
.ad__slot {
  background: color-mix(in oklab, var(--ad-bg) 88%, var(--ad-border));
  border: 1px dashed color-mix(in oklab, var(--ad-border) 80%, transparent);
}

/* Dark mode nudge */
html.dark .ad__slot {
  background: color-mix(in oklab, var(--ad-bg) 92%, var(--ad-border));
  border-color: color-mix(in oklab, var(--ad-border) 70%, transparent);
}
