/* ============================================
   AdSense (type + size), CLS-safe, theme-styled
   Uses your tokens from :root / html.dark
============================================ */

.ad {
  --ad-radius: var(--docs-radius, 0.75rem);
  --ad-border: var(--docs-border, hsl(210 30% 90%));
  --ad-bg: var(--docs-card, #fff);
  --ad-fg-muted: var(--docs-muted-foreground, hsl(214 20% 55%));

  margin: 1.75rem 0;
  padding: 0.75rem;
  border: 1px dashed var(--ad-border);
  border-radius: var(--ad-radius);
  background: var(--ad-bg);
  display: grid;
  gap: .5rem;
}

.ad__label {
  text-align: center;
  font-family: var(--docs-font-sans, Montserrat, system-ui, sans-serif);
  font-size: .72rem;
  font-weight: 700;
  color: var(--ad-fg-muted);
  text-transform: uppercase;
  letter-spacing: .04em;
}

.ad__frame {
  width: 100%;
  max-width: 100%;
  margin-inline: auto;
  border-radius: calc(var(--ad-radius) - 2px);
  overflow: hidden;
  background: color-mix(in oklab, var(--docs-background) 88%, var(--docs-border));
  border: 1px solid color-mix(in oklab, var(--ad-border) 70%, transparent);
  display: grid;
  place-items: center;
}

.adsbygoogle { width: 100%; height: 100%; }

/* --------------------------
   SIZE MAPS (Desktop first)
   Mobile fallback sizes kick in under 640px.
   Tablet tweaks where needed.
---------------------------*/

/* ========== LEADERBOARD ========== */
/* small  -> desktop 468x60,  tablet 468x60,  mobile 320x100 */
/* medium -> desktop 728x90,  tablet 728x90,  mobile 320x100 */
/* large  -> desktop 970x90,  tablet 728x90,  mobile 320x100 */

.ad--leaderboard.ad--size-small  .ad__frame { max-width: 468px; height: 60px; }
.ad--leaderboard.ad--size-medium .ad__frame { max-width: 728px; height: 90px; }
.ad--leaderboard.ad--size-large  .ad__frame { max-width: 970px; height: 90px; }

@media (max-width: 1023.98px) {
  /* tablet */
  .ad--leaderboard.ad--size-large  .ad__frame { max-width: 728px; height: 90px; }
}

@media (max-width: 639.98px) {
  /* mobile */
  .ad--leaderboard .ad__frame { max-width: 320px; height: 100px; }
}

/* ========== VERTICAL / SKYSCRAPER ========== */
/* small  -> desktop 160x600, mobile 300x250 */
/* medium -> desktop 300x600, mobile 300x250 */
/* large  -> desktop 300x600 (safe high-earner), mobile 300x250 */

.ad--vertical.ad--size-small  .ad__frame { max-width: 160px; height: 600px; }
.ad--vertical.ad--size-medium .ad__frame { max-width: 300px; height: 600px; }
.ad--vertical.ad--size-large  .ad__frame { max-width: 300px; height: 600px; }

@media (max-width: 639.98px) {
  .ad--vertical .ad__frame { max-width: 300px; height: 250px; } /* mobile fallback */
}

/* ========== SQUARE / RECTANGLE ========== */
/* small  -> desktop 200x200, mobile 300x250 (better fill) */
/* medium -> desktop 300x250 */
/* large  -> desktop 336x280 */

.ad--square.ad--size-small  .ad__frame { max-width: 200px; height: 200px; }
.ad--square.ad--size-medium .ad__frame { max-width: 300px; height: 250px; }
.ad--square.ad--size-large  .ad__frame { max-width: 336px; height: 280px; }

@media (max-width: 639.98px) {
  .ad--square.ad--size-small  .ad__frame { max-width: 300px; height: 250px; } /* mobile upgrade for fill */
}

/* ========== FLUID TYPES (ignore size) ========== */
.ad--article   .ad__frame { min-height: 220px; max-width: 680px; }
.ad--multiplex .ad__frame { min-height: 260px; max-width: 100%;   }
.ad--feed      .ad__frame { min-height: 220px; max-width: 100%;   }

@media (max-width: 1023.98px) {
  .ad--article .ad__frame { max-width: 560px; }
}
@media (max-width: 639.98px) {
  .ad--article .ad__frame { max-width: 100%; }
}

/* Sidebar niceties */
.sidebar-right .ad { margin: 1rem 0; padding: .5rem; }

/* Dark mode polish */
html.dark .ad__frame {
  background: color-mix(in oklab, var(--docs-card) 92%, var(--docs-border));
  border-color: color-mix(in oklab, var(--docs-border) 70%, transparent);
}

/* Optional utilities (if you ever want them) */
@media (min-width: 1024px) {
  .force-728-desktop .ad--leaderboard .ad__frame { max-width: 728px; height: 90px; }
}
.ad
