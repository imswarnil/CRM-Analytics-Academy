/* ==========================================================================
   Sidebar Navigation Styles (Interactive Timeline Stepper)
   ========================================================================== */

// --- Main Navigation Container ---
.sidebar-nav ul {
  list-style: none;
  padding: 0;
  margin: 0;
  position: relative;

  // The subtle background line for the timeline
  &::before {
    content: '';
    position: absolute;
    left: calc(var(--crma-space-4) + 10px); // Centered on the icon
    top: var(--crma-space-6);
    bottom: var(--crma-space-6);
    width: 2px;
    background-color: var(--crma-border);
  }
}

// --- Category Headers ---
.sidebar-nav .nav-category {
  font-size: var(--crma-font-size-xs);
  font-weight: var(--crma-weight-bold);
  color: var(--crma-muted-foreground);
  text-transform: uppercase;
  letter-spacing: 0.05em;
  padding: var(--crma-space-2) 0;
  margin: var(--crma-space-8) 0 var(--crma-space-3) 0;
  position: relative;
  
  // A small background breaks the timeline for readability
  &::before {
    content: '';
    position: absolute;
    left: 0;
    right: 0;
    top: 50%;
    transform: translateY(-50%);
    height: 1px;
    background-color: var(--crma-border);
    z-index: 0;
  }
  span {
    position: relative;
    z-index: 1;
    background-color: var(--crma-background);
    padding-right: var(--crma-space-3);
  }
}

// --- Navigation Links (The Steps) ---
.sidebar-nav .nav-link a {
  position: relative;
  display: flex;
  align-items: center;
  gap: var(--crma-space-4);
  padding: var(--crma-space-3) var(--crma-space-4);
  margin: var(--crma-space-1) 0;
  font-size: var(--crma-font-size-sm);
  border-radius: var(--crma-radius);
  color: var(--crma-muted-foreground);
  font-weight: var(--crma-weight-semibold);
  transition: all var(--crma-duration-fast) var(--crma-ease);

  // The icon now serves as the timeline "dot"
  i {
    position: relative;
    z-index: 2; // Keep icon above the timeline lines
    display: flex;
    align-items: center;
    justify-content: center;
    flex-shrink: 0;
    width: 22px;
    height: 22px;
    font-size: 1rem;
    color: var(--crma-muted-foreground);
    background-color: var(--crma-background);
    border: 2px solid var(--crma-border);
    border-radius: 50%;
    transition: all var(--crma-duration-fast) var(--crma-ease);
  }
}

// --- Interactive Hover State ---
.sidebar-nav .nav-link a:hover {
  background-color: var(--crma-surface-hover);
  color: var(--crma-foreground);

  i {
    border-color: var(--crma-primary);
    color: var(--crma-primary);
  }
}

// --- Crisp Active State ---
.sidebar-nav .nav-link.active a {
  background-color: transparent; // No background on the link itself
  color: var(--crma-primary);
  font-weight: var(--crma-weight-bold);

  i {
    background-color: var(--crma-primary);
    border-color: var(--crma-primary);
    color: var(--crma-primary-foreground);
    transform: scale(1.1);
    box-shadow: 0 0 0 4px color-mix(in srgb, var(--crma-primary), transparent 80%);
  }
}

// --- Sponsor Card --- (no changes needed)
.sponsor-card {
  margin-top: auto;
  padding: var(--crma-space-6) var(--crma-space-4) var(--crma-space-4);
  border-top: 1px solid var(--crma-border);
  // ... rest of sponsor card styles
}